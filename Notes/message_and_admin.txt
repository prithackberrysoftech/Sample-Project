üõ†Ô∏è Step 1 ‚Äî Enable Messages in Django

	When you create a Django project with startproject, messages are already enabled by default:

	‚úîÔ∏è 'django.contrib.messages' is in INSTALLED_APPS
	‚úîÔ∏è 'django.contrib.sessions.middleware.SessionMiddleware' and 'django.contrib.messages.middleware.MessageMiddleware' are in MIDDLEWARE
	‚úîÔ∏è The messages context processor is included in your TEMPLATES setting.

	This setup allows messages to be stored and automatically sent to templates
	
	
üü® Message Levels (Types)


	| Level     | Meaning                        |                       
	| --------- | ------------------------------ |
	| `DEBUG`   | for development info           |                       
	| `INFO`    | general informational messages |                       
	| `SUCCESS` | an action succeeded            |                     
	| `WARNING` | a warning                      |                       
	| `ERROR`   | something went wrong           | 

	[1]: https://docs.djangoproject.com/en/6.0/ref/contrib/messages/ "The messages framework | Django documentation | Django"




====================== 
from django.contrib import messages
from django.shortcuts import render, redirect
from .forms import ContactForm

def contact_view(request):
    if request.method == "POST":
        form = ContactForm(request.POST)
        if form.is_valid():
            form.save()
            messages.success(request, "Thanks for contacting us!")
            return redirect("contact")
        else:
            messages.error(request, "Please correct the errors below.")
    else:
        form = ContactForm()

    return render(request, "contact.html", {"form": form})


======================


{% if messages %}
    {% for message in messages %}
        <p class="alert alert-{{ message.tags }}">{{ message }}</p>
    {% endfor %}
{% endif %}




========================================================================================== ADMIN =============================================================================


from django.contrib import admin
from .models import Book, Profile
from classbased.models import Profile
from django.contrib.auth.models import User ,Group 
from django.contrib.auth.admin import UserAdmin

admin.site.site_header = "Book Management System"
admin.site.site_title = "Book Admin"
admin.site.index_title = "Welcome to Admin Dashboard"


def make_free(modeladmin, request, queryset):
    queryset.update(price=0)


make_free.short_description = "Make selected books free"


@admin.register(Book)
class BookAdmin(admin.ModelAdmin):
    list_display = ("order", "title", "author", "price", "created_at", "slug")
    list_filter = (
        "price",
        "created_at",
    )
    search_fields = ("title", "author")
    ordering = ("order",)
    list_editable = ("price",)
    prepopulated_fields = {"slug": ("title",)}
    readonly_fields = ("created_at",)
    actions = [make_free]
    fieldsets = (
        (
            "Basic Info",
            {
                "fields": (("order", "title", "author"),),
            },
        ),
        ("Price Info", {"fields": ("price", "slug")}),
    )


class ProfileInline(admin.StackedInline):
    model = Profile
    can_delete = False
    extra =3

class CustomUserAdmin(UserAdmin):
    inlines = (ProfileInline,)


admin.site.unregister(User)
admin.site.register(User, CustomUserAdmin)

admin.site.unregister(Group)

